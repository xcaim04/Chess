{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 4, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/Usuario/Desktop/chess/src/chess-frontend/app/page.tsx"],"sourcesContent":["\"use client\"\n\nimport { useState, useEffect } from \"react\"\nimport Board from \"./Board\"   // tu componente que renderiza el tablero con Square.jsx\n\nexport default function ChessGame({ token, onLogout }) {\n  const [gameState, setGameState] = useState(null)\n  const [status, setStatus] = useState(\"\")\n\n  // Cargar estado inicial del juego\n  useEffect(() => {\n    const fetchGame = async () => {\n      try {\n        const res = await fetch(\"/chess/state\", {\n          headers: { Authorization: `Bearer ${token}` },\n        })\n        if (!res.ok) {\n          throw new Error(\"Error cargando estado\")\n        }\n        const data = await res.json()\n        setGameState(data)\n      } catch (err) {\n        setStatus(err.message)\n      }\n    }\n    fetchGame()\n  }, [token])\n\n  // Manejar jugadas\n  const handleMove = async (move) => {\n    try {\n      const res = await fetch(\"/chess/move\", {\n        method: \"POST\",\n        headers: {\n          \"Content-Type\": \"application/json\",\n          Authorization: `Bearer ${token}`,\n        },\n        body: JSON.stringify({ move }),\n      })\n      const data = await res.json()\n      if (!res.ok) {\n        setStatus(data.detail || \"Error en la jugada\")\n        return\n      }\n      setGameState(data)\n      setStatus(\"\")\n    } catch (err) {\n      setStatus(\"Error conectando con el backend\")\n    }\n  }\n\n  if (!gameState) {\n    return <div className=\"p-4\">Cargando juego...</div>\n  }\n\n  return (\n    <div className=\"flex\">\n      {/* Tablero */}\n      <Board fen={gameState.fen} onMove={handleMove} />\n\n      {/* Panel lateral */}\n      <div className=\"ml-6 p-4 border rounded bg-gray-100 w-64\">\n        <h2 className=\"font-bold mb-2\">Estado del juego</h2>\n        <p><strong>Turno:</strong> {gameState.turn === \"w\" ? \"Blancas\" : \"Negras\"}</p>\n        <p><strong>Juego terminado:</strong> {gameState.game_over ? \"Sí\" : \"No\"}</p>\n        <p><strong>Resultado:</strong> {gameState.result || \"En curso\"}</p>\n\n        {status && <p className=\"text-red-600 mt-2\">{status}</p>}\n\n        <button\n          onClick={onLogout}\n          className=\"mt-4 px-3 py-2 bg-red-500 text-white rounded\"\n        >\n          Cerrar sesión\n        </button>\n      </div>\n    </div>\n  )\n}\n"],"names":[],"mappings":";;;;;AAEA;;;;;;AAFA;;;;AAKe,SAAS,UAAU,EAAE,KAAK,EAAE,QAAQ,EAAE;IACnD,MAAM,CAAC,WAAW,aAAa,GAAG,IAAA,iQAAQ,EAAC;IAC3C,MAAM,CAAC,QAAQ,UAAU,GAAG,IAAA,iQAAQ,EAAC;IAErC,kCAAkC;IAClC,IAAA,kQAAS,EAAC;QACR,MAAM,YAAY;YAChB,IAAI;gBACF,MAAM,MAAM,MAAM,MAAM,gBAAgB;oBACtC,SAAS;wBAAE,eAAe,CAAC,OAAO,EAAE,OAAO;oBAAC;gBAC9C;gBACA,IAAI,CAAC,IAAI,EAAE,EAAE;oBACX,MAAM,IAAI,MAAM;gBAClB;gBACA,MAAM,OAAO,MAAM,IAAI,IAAI;gBAC3B,aAAa;YACf,EAAE,OAAO,KAAK;gBACZ,UAAU,IAAI,OAAO;YACvB;QACF;QACA;IACF,GAAG;QAAC;KAAM;IAEV,kBAAkB;IAClB,MAAM,aAAa,OAAO;QACxB,IAAI;YACF,MAAM,MAAM,MAAM,MAAM,eAAe;gBACrC,QAAQ;gBACR,SAAS;oBACP,gBAAgB;oBAChB,eAAe,CAAC,OAAO,EAAE,OAAO;gBAClC;gBACA,MAAM,KAAK,SAAS,CAAC;oBAAE;gBAAK;YAC9B;YACA,MAAM,OAAO,MAAM,IAAI,IAAI;YAC3B,IAAI,CAAC,IAAI,EAAE,EAAE;gBACX,UAAU,KAAK,MAAM,IAAI;gBACzB;YACF;YACA,aAAa;YACb,UAAU;QACZ,EAAE,OAAO,KAAK;YACZ,UAAU;QACZ;IACF;IAEA,IAAI,CAAC,WAAW;QACd,qBAAO,8RAAC;YAAI,WAAU;sBAAM;;;;;;IAC9B;IAEA,qBACE,8RAAC;QAAI,WAAU;;0BAEb,8RAAC;gBAAM,KAAK,UAAU,GAAG;gBAAE,QAAQ;;;;;;0BAGnC,8RAAC;gBAAI,WAAU;;kCACb,8RAAC;wBAAG,WAAU;kCAAiB;;;;;;kCAC/B,8RAAC;;0CAAE,8RAAC;0CAAO;;;;;;4BAAe;4BAAE,UAAU,IAAI,KAAK,MAAM,YAAY;;;;;;;kCACjE,8RAAC;;0CAAE,8RAAC;0CAAO;;;;;;4BAAyB;4BAAE,UAAU,SAAS,GAAG,OAAO;;;;;;;kCACnE,8RAAC;;0CAAE,8RAAC;0CAAO;;;;;;4BAAmB;4BAAE,UAAU,MAAM,IAAI;;;;;;;oBAEnD,wBAAU,8RAAC;wBAAE,WAAU;kCAAqB;;;;;;kCAE7C,8RAAC;wBACC,SAAS;wBACT,WAAU;kCACX;;;;;;;;;;;;;;;;;;AAMT"}},
    {"offset": {"line": 185, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/Usuario/Desktop/chess/src/chess-frontend/node_modules/next/src/server/route-modules/app-page/vendored/ssr/react-jsx-dev-runtime.ts"],"sourcesContent":["module.exports = (\n  require('../../module.compiled') as typeof import('../../module.compiled')\n).vendored['react-ssr']!.ReactJsxDevRuntime\n"],"names":["module","exports","require","vendored","ReactJsxDevRuntime"],"mappings":"AAAAA,OAAOC,OAAO,GACZC,QAAQ,6JACRC,QAAQ,CAAC,YAAY,CAAEC,kBAAkB","ignoreList":[0]}}]
}